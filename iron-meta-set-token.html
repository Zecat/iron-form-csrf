<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../polymer/lib/legacy/class.html">
<link rel="import" href="../iron-meta/iron-meta.html">

<dom-module id="iron-meta-set-token">

  <template>
    <iron-meta id="ironMeta" key="csrf_token" value="[[_data]]"></iron-meta>
  </template>

  <script>

    class IronMetaSetToken extends Polymer.Element{
      
      static get is() {
        return 'iron-meta-set-token'
      }

      static get properties() {
        return {
          value: String,
          name: String,
          _data: {
            type: Object,
            computed: '_computeData(value, name)',
            readOnly: true
          }
        }
      }

      ready(){
        super.ready();
        this._ensureAttribute('hidden', true);
      }

      _computeData (value, name) {
        return {
          'token': value,
          'name': name
        }
      }
    }
    window.customElements.define(IronMetaSetToken.is, IronMetaSetToken);
  </script>
</dom-module>